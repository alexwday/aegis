# Quarterly Schedule Configuration for Schedule-Driven ETLs
#
# This configuration controls when cross-bank quarterly reports are generated.
# The ETL orchestrator checks this schedule on each run and triggers ETLs
# when the current date matches or exceeds the run_date.
#
# Fields:
#   fiscal_year: The fiscal year for the report
#   quarter: Q1, Q2, Q3, or Q4
#   run_date: Date to start attempting generation (YYYY-MM-DD)
#   use_latest: If true, use latest available data >= specified quarter
#   enabled: If false, skip this schedule entry entirely
#   retry_until_next: If true, keep attempting on subsequent runs until
#                     the next quarter's run_date (useful if data arrives late)
#   force_regenerate: If true, regenerate even if report already exists
#
# Notes:
#   - Set run_date to mid-reporting cycle after all monitored banks have reported
#   - Dates can be refined as the quarter approaches
#   - The orchestrator will log when entries are triggered, skipped, or completed

cm_readthrough:
  # =============================================================================
  # FISCAL YEAR 2025
  # =============================================================================
  FY2025_Q1:
    fiscal_year: 2025
    quarter: Q1
    run_date: "2025-02-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2025_Q2:
    fiscal_year: 2025
    quarter: Q2
    run_date: "2025-05-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2025_Q3:
    fiscal_year: 2025
    quarter: Q3
    run_date: "2025-08-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2025_Q4:
    fiscal_year: 2025
    quarter: Q4
    run_date: "2025-11-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  # =============================================================================
  # FISCAL YEAR 2026
  # =============================================================================
  FY2026_Q1:
    fiscal_year: 2026
    quarter: Q1
    run_date: "2026-02-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2026_Q2:
    fiscal_year: 2026
    quarter: Q2
    run_date: "2026-05-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2026_Q3:
    fiscal_year: 2026
    quarter: Q3
    run_date: "2026-08-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2026_Q4:
    fiscal_year: 2026
    quarter: Q4
    run_date: "2026-11-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  # =============================================================================
  # FISCAL YEAR 2027
  # =============================================================================
  FY2027_Q1:
    fiscal_year: 2027
    quarter: Q1
    run_date: "2027-02-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2027_Q2:
    fiscal_year: 2027
    quarter: Q2
    run_date: "2027-05-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2027_Q3:
    fiscal_year: 2027
    quarter: Q3
    run_date: "2027-08-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false

  FY2027_Q4:
    fiscal_year: 2027
    quarter: Q4
    run_date: "2027-11-15"
    use_latest: true
    enabled: true
    retry_until_next: true
    force_regenerate: false
